<!doctype html>
<html xmlns:th="http://www.thimeleaf.org" xmlns:sec="http://www.thimeleaf.org/extras/spring-security" lang="es">

    <head th:replace="/fragments/head :: head"></head>

    <body class="bodyIndex2">
        <div class="div1" align="center">

            <hr class="hr">
            <h2 class="h2"><b>LISTA DE LIBROS</b></h2>
            <hr class="hr">

            <table class="table table-danger table-hover">

                <thead align="center">
                    <tr>
                        <th>ISBN LIBRO</th>
                        <th>TÍTULO</th>
                        <th>AUTOR</th>
                        <th>EDITORIAL</th>
                        <th>ACCIÓN</th>
                    </tr>
                </thead>

                <tbody align="center" th:each="libro : ${libros}">
                    <tr>
                        <th th:text="${libro.isbn}"></th>
                        <td th:text="${libro.titulo}"></td>
                        <td th:text="${libro.autor.nombre}"></td>
                        <td style="color: red">VER!! no retorna</td>
                        <td>
                            <a sec:authorize="hasRole('ADMIN')" type="button" class="btn btn-primary botonAccion" th:href="@{/libro/modificar/__${libro.isbn}__}">Modificar</a>
                            <br>
                            <a sec:authorize="hasRole('ADMIN')" type="button" class="btn btn-danger botonAccion" th:href="@{/libro/eliminar/__${libro.isbn}__}">Eliminar</a>
                        </td>
                    </tr>
                </tbody>

            </table>
            <hr class="hr">

            <a href="/index" type="button" class="btn btn-secondary">Volver</a>

            <div th:if="${error!=null}">
                <div class="card-body">
                    <h5 class="card-title">Error</h5>
                    <p class="card-text" th:text="${error}"></p>
                </div>
            </div>

            <div th:if="${exito!=null}">
                <div class="card-body">
                    <h5 class="card-title">Éxito!</h5>
                    <p class="card-text" th:text="${exito}"></p>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    </body>
</html>

